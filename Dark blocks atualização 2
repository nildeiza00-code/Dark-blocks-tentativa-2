-- CÓDIGO PARA SER USADO NO EXECUTOR

-- Garantindo que a GUI só seja criada uma vez
if not pcall(function() return getgenv().TeleportGUI end) then
    getgenv().TeleportGUI = Instance.new("ScreenGui")
    getgenv().TeleportGUI.Name = "TeleportGUI"
    getgenv().TeleportGUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
end

local ScreenGui = getgenv().TeleportGUI
ScreenGui.ResetOnSpawn = false
ScreenGui.Enabled = true -- Garante que o GUI esteja ativo

-- Cria o Frame principal do painel
local Frame = Instance.new("Frame")
Frame.Name = "TeleportFrame"
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0.5, -100, 0.5, -75)
Frame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
Frame.BorderColor3 = Color3.new(0.2, 0.2, 0.2)
Frame.BorderSizePixel = 2
Frame.Draggable = true
Frame.Visible = true -- Força o painel a aparecer
Frame.Parent = ScreenGui

-- Cria o botão de teleporte
local TeleportButton = Instance.new("TextButton")
TeleportButton.Name = "TeleportButton"
TeleportButton.Size = UDim2.new(0, 150, 0, 40)
TeleportButton.Position = UDim2.new(0.5, -75, 0, 15)
TeleportButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
TeleportButton.BorderColor3 = Color3.new(0.1, 0.1, 0.1)
TeleportButton.BorderSizePixel = 1
TeleportButton.Text = "Teleportar"
TeleportButton.TextColor3 = Color3.new(1, 1, 1)
TeleportButton.Font = Enum.Font.SourceSansBold
TeleportButton.TextSize = 18
TeleportButton.Parent = Frame

-- Cria o botão de noclip
local NoclipButton = Instance.new("TextButton")
NoclipButton.Name = "NoclipButton"
NoclipButton.Size = UDim2.new(0, 150, 0, 40)
NoclipButton.Position = UDim2.new(0.5, -75, 0, 75)
NoclipButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
NoclipButton.BorderColor3 = Color3.new(0.1, 0.1, 0.1)
NoclipButton.BorderSizePixel = 1
NoclipButton.Text = "Atravessar Parede: OFF"
NoclipButton.TextColor3 = Color3.new(1, 1, 1)
NoclipButton.Font = Enum.Font.SourceSansBold
NoclipButton.TextSize = 18
NoclipButton.Parent = Frame

-- Variável para controlar o estado do noclip
local noclipEnabled = false

-- Nova função de teleporte (BodyPosition)
local function teleportar(destino)
    local personagem = game.Players.LocalPlayer.Character
    if not personagem then
        warn("Personagem não encontrado.")
        return
    end

    local humanoideRootPart = personagem:FindFirstChild("HumanoidRootPart")
    if not humanoideRootPart then return end

    -- Desativa colisão
    for _, part in pairs(personagem:GetDescendants()) do
        if part:IsA("BasePart") then
            part.CanCollide = false
        end
    end

    -- Aplica BodyPosition
    local bodyPosition = Instance.new("BodyPosition")
    bodyPosition.Position = destino
    bodyPosition.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    bodyPosition.Parent = humanoideRootPart

    -- Pequena espera
    task.wait(0.1)
    bodyPosition:Destroy()

    -- Reativa colisão
    for _, part in pairs(personagem:GetDescendants()) do
        if part:IsA("BasePart") then
            part.CanCollide = true
        end
    end
end

-- Função do noclip
local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    local character = game.Players.LocalPlayer.Character
    if not character then return end

    if noclipEnabled then
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
        NoclipButton.Text = "Atravessar Parede: ON"
        NoclipButton.BackgroundColor3 = Color3.new(0.2, 0.5, 0.2)
    else
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = true
            end
        end
        NoclipButton.Text = "Atravessar Parede: OFF"
        NoclipButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
    end
end

-- Conexão dos botões
TeleportButton.MouseButton1Click:Connect(function()
    local mouse = game.Players.LocalPlayer:GetMouse()
    local destino = mouse.Hit.p
    if destino then
        teleportar(destino)
    end
end)

NoclipButton.MouseButton1Click:Connect(toggleNoclip)

-- Ativa a GUI automaticamente
ScreenGui.Enabled = true
Frame.Visible = true
