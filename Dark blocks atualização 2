-- Espera até o Player estar pronto
local player = game.Players.LocalPlayer
if not player then return end

local playerGui = player:WaitForChild("PlayerGui")

-- Verifica se o GUI já existe
if playerGui:FindFirstChild("TeleportGUI") then
    playerGui.TeleportGUI:Destroy()
end

-- Cria a ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "TeleportGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = playerGui

-- Cria o Frame principal
local Frame = Instance.new("Frame")
Frame.Name = "TeleportFrame"
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0.5, -100, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderColor3 = Color3.fromRGB(50, 50, 50)
Frame.BorderSizePixel = 2
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Botão Teleporte
local TeleportButton = Instance.new("TextButton")
TeleportButton.Name = "TeleportButton"
TeleportButton.Size = UDim2.new(0, 150, 0, 40)
TeleportButton.Position = UDim2.new(0.5, -75, 0, 15)
TeleportButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
TeleportButton.BorderColor3 = Color3.fromRGB(30, 30, 30)
TeleportButton.BorderSizePixel = 1
TeleportButton.Text = "Teleportar"
TeleportButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TeleportButton.Font = Enum.Font.SourceSansBold
TeleportButton.TextSize = 18
TeleportButton.Parent = Frame

-- Botão Noclip
local NoclipButton = Instance.new("TextButton")
NoclipButton.Name = "NoclipButton"
NoclipButton.Size = UDim2.new(0, 150, 0, 40)
NoclipButton.Position = UDim2.new(0.5, -75, 0, 75)
NoclipButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
NoclipButton.BorderColor3 = Color3.fromRGB(30, 30, 30)
NoclipButton.BorderSizePixel = 1
NoclipButton.Text = "Atravessar Parede: OFF"
NoclipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
NoclipButton.Font = Enum.Font.SourceSansBold
NoclipButton.TextSize = 18
NoclipButton.Parent = Frame

-- Variável de estado do noclip
local noclipEnabled = false

-- Função de Noclip
local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    local character = player.Character
    if not character then return end

    for _, part in pairs(character:GetDescendants()) do
        if part:IsA("BasePart") then
            part.CanCollide = not noclipEnabled and true or false
        end
    end

    if noclipEnabled then
        NoclipButton.Text = "Atravessar Parede: ON"
        NoclipButton.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    else
        NoclipButton.Text = "Atravessar Parede: OFF"
        NoclipButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    end
end

-- Conecta eventos
NoclipButton.MouseButton1Click:Connect(toggleNoclip)
TeleportButton.MouseButton1Click:Connect(function()
    local mouse = player:GetMouse()
    local destino = mouse.Hit.p
    if destino then
        teleportar(destino) -- NUNCA alterado
    end
end)
